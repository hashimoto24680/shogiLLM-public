# 将棋 棋譜の表記方法

日本将棋連盟の棋譜記録に基づく表記ルールをまとめます。

---

## 基本構造

```
[筋][段][駒][相対位置][動作][成/不成/打]
 ↓   ↓   ↓      ↓       ↓       ↓
 ５  ２  銀     右      上      成
```

| 要素 | 説明 |
|------|------|
| **筋** | 到達地点の筋（1〜9） |
| **段** | 到達地点の段（1〜9） |
| **駒** | 駒の種類 |
| **相対位置** | 右・左・直（複数の駒がある場合） |
| **動作** | 上・寄・引（複数の駒がある場合） |
| **成/不成/打** | 成り・不成り・打ち |

> [!NOTE]
> 新聞・本・雑誌では「７六歩」のように筋を算用数字、段を漢数字で記載しますが、日本将棋連盟の棋譜記録ではすべて算用数字（`76歩`）で記載します。

---

## 基本ルール

### 1. 到達地点に1枚の駒しか動かせない場合

相対位置・動作は**記入しない**。

```
○ 76歩
✕ 76歩直不成
```

### 2. 相手の1手前と同地点に移動した場合（駒を取った場合）

「**同**」と記入。

```
○ 同歩
✕ 76同歩
```

> [!NOTE]
> 新聞や本では改頁の都合で「76同歩」と表記することもあります。

### 3. 盤上の駒と持駒の両方が動ける場合

| 動作 | 表記 |
|------|------|
| 盤上の駒が動いた | 通常の表記 |
| 持駒を打った | 「**打**」を記入 |

> [!IMPORTANT]
> 「打」と記入するのは、その地点に盤上の駒も動かせる場合のみ。

### 4. 成ることが可能な場合

成る/成らないを「**成**」「**不成**」で記入。

> 強制的に成る場合（例: 11への歩）でも「成」は必要。

---

## 動作の記入

| 動作 | 意味 |
|------|------|
| **上** | 1段以上、上に動く |
| **寄** | 1マス以上、横に動く |
| **引** | 1段以上、下に動く |

### 例: 金が2枚ある場合

```
   9 8 7
 ├─┼─┼─┤
2│  │金│  │
 ├─┼─┼─┤
3│金│  │  │
 └─┴─┴─┘
```

- 93の金が82へ → `82金上`
- 72の金が82へ → `82金寄`

---

## 相対位置の記入

| 位置 | 意味 |
|------|------|
| **右** | 指す側から見て右側の駒 |
| **左** | 指す側から見て左側の駒 |
| **直** | 真っ直ぐ上がる（金銀が横に並んでいる場合のみ） |

### 例: 金が横に2枚並んでいる場合

```
   8 7 6
 ├─┼─┼─┤
9│金│金│  │
 └─┴─┴─┘
```

- 89の金が78へ → `78金左`
- 79の金が78へ → `78金直`

### 同じ動作で2枚ある場合

「上」「寄」「引」を省略して「左」「右」を記入。

```
   9 8 7
 ├─┼─┼─┤
1│  │  │  │
 ├─┼─┼─┤
2│金│  │金│
 └─┴─┴─┘
```

- 92の金が81へ → `81金左`
- 72の金が81へ → `81金右`

---

## 3枚以上の駒がある場合

### 例: と金が5枚ある場合

```
   9 8 7
 ├─┼─┼─┤
7│  │と│  │
 ├─┼─┼─┤
8│と│  │  │
 ├─┼─┼─┤
9│と│と│と│
 └─┴─┴─┘
```

| 動く駒 | 表記 | 理由 |
|--------|------|------|
| 79 → 88 | `88と右` | 右から移動が1枚のみ |
| 89 → 88 | `88と直` | 真っ直ぐ上がる |
| 99 → 88 | `88と左上` | 左から2枚あるので「上」省略不可 |
| 98 → 88 | `88と寄` | 寄る駒が1枚のみ |
| 87 → 88 | `88と引` | 引く駒が1枚のみ |

---

## 竜・馬の場合

竜・馬は動作を優先し、**「直」は使わず「左」「右」で記入**。

### 竜の例

```
   9 8 7
 ├─┼─┼─┤
1│竜│  │  │
 ├─┼─┼─┤
2│  │  │  │
 ├─┼─┼─┤
4│  │竜│  │
 └─┴─┴─┘
```

- 91の竜が82へ → `82竜引`
- 84の竜が82へ → `82竜上`

### 横並びの場合

```
   9 8 7
 ├─┼─┼─┤
9│竜│竜│  │
 └─┴─┴─┘
```

- 99の竜が88へ → `88竜左`
- 89の竜が88へ → `88竜右`

---

## まとめ

1. **基本**: 筋 + 段 + 駒
2. **同じ駒が複数**: 動作（上・寄・引）を追加
3. **動作で区別できない**: 相対位置（左・右・直）を追加
4. **竜・馬**: 「直」は使わない
5. **成り**: 可能な場合は「成」「不成」を明記
6. **打ち**: 盤上の駒も動かせる場合のみ「打」を明記

---

## 参考

- [日本将棋連盟 棋譜の表記方法](https://www.shogi.or.jp/faq/kihuhyouki.html)
